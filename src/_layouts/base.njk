<!DOCTYPE html>
<html lang="{{ meta.language }}">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title or meta.title }}</title>
    {% include "meta.njk" %}
    {% if jsonld %}
    <script type="application/ld+json">
      {% block json_ld %}{{ jsonld | toJSONLD | safe }}{% endblock %}
    </script>
    {% endif %}
    <style>{% css %}</style>
    <noscript>
      <style>
        .js-required { display: none; }

        /* Reverse navigation when theme preference element isn't visible */
        .navigation {
          flex-direction: row-reverse;
        }
        @media (min-width: 768px) {
          .navigation {
            flex-direction: row;
          }
        }
      </style>
    </noscript>
    <script>document.documentElement.setAttribute('data-dark-mode', JSON.parse(window.sessionStorage.getItem('theme')) ?? false)</script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-K3R0CR8HLY"></script>
  </head>

  <body class="layout__{{ layout|default('base') }}">
    {% block header %}
    <header class="header">
      <div class="container">
        <div class="row">
          <nav class="navigation">
            <span class="icon icon-brightness-contrast js-required" id="change_theme_preference" title="Change colour preference"></span>

            <input type="checkbox" id="navigation_menu">

            <label for="navigation_menu" class="navigation__toggle">
              <span class="icon-hamburger"><span></span></span>
            </label>

            {% include "navigation.njk" %}
          </nav>
        </div>
      </div>
    </header>
    {% endblock %}

    {% block banner %}{% endblock %}

    <main id="content" class="content">
      {% block content %}
      <div class="container">
        <div class="row">
          {{ content | safe }}
        </div>
      </div>
      {% endblock %}
    </main>

    {% block footer %}
      {% include "footer.njk" %}
    {% endblock %}

    <script src="{{ site.url }}{% manifest 'main.js' %}" integrity="{% sri 'main.js', true %}"></script>
    {% block scripts %}{% endblock %}
  </body>
</html>
